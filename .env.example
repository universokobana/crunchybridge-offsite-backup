# CBOB Environment Configuration Example
# Copy this file to .env and update with your values

# Required: Crunchy Bridge API Configuration
CBOB_CRUNCHY_API_KEY=your-api-key-here
CBOB_CRUNCHY_CLUSTERS=cluster-id-1,cluster-id-2

# =============================================================================
# Source Configuration (optional - for testing only)
# =============================================================================
# By default, CBOB connects to Crunchy Bridge S3 (AWS) using credentials from API.
# For testing with MinIO or other S3-compatible storage, set a custom source endpoint:
# CBOB_SOURCE_ENDPOINT=http://minio.local:9000

# =============================================================================
# Destination Configuration
# =============================================================================
# CBOB_DEST_TYPE: "local" (default) or "s3" for S3-compatible object storage
CBOB_DEST_TYPE=local

# For local destination (CBOB_DEST_TYPE=local):
CBOB_TARGET_PATH=/mnt/backups

# For S3-compatible destination (CBOB_DEST_TYPE=s3):
# Uncomment and configure for Digital Ocean Spaces, Hetzner, MinIO, etc.
# CBOB_DEST_TYPE=s3
# CBOB_DEST_ENDPOINT=https://fra1.digitaloceanspaces.com
# CBOB_DEST_BUCKET=my-cbob-backups
# CBOB_DEST_ACCESS_KEY=your-access-key
# CBOB_DEST_SECRET_KEY=your-secret-key
# CBOB_DEST_REGION=fra1
# CBOB_DEST_PREFIX=/pgbackrest

# Example endpoints for popular providers:
# Digital Ocean Spaces (Frankfurt): https://fra1.digitaloceanspaces.com
# Digital Ocean Spaces (NYC):       https://nyc3.digitaloceanspaces.com
# Hetzner Object Storage:           https://fsn1.your-objectstorage.com
# MinIO (self-hosted):              http://minio.local:9000
# Backblaze B2:                     https://s3.us-west-000.backblazeb2.com
# Wasabi:                           https://s3.wasabisys.com

# =============================================================================
# Optional: Backup Configuration
# =============================================================================
CBOB_RETENTION_FULL=7
CBOB_DRY_RUN=false

# =============================================================================
# Optional: Notification Configuration
# =============================================================================
CBOB_SLACK_CLI_TOKEN=xoxb-your-slack-token
CBOB_SLACK_CHANNEL=#backup-notifications

# =============================================================================
# Optional: Monitoring Configuration
# =============================================================================
CBOB_SYNC_HEARTBEAT_URL=https://your-monitoring-service.com/heartbeat/sync
CBOB_RESTORE_HEARTBEAT_URL=https://your-monitoring-service.com/heartbeat/restore

# =============================================================================
# Optional: Logging Configuration
# =============================================================================
CBOB_LOG_LEVEL=info
CBOB_LOG_FORMAT=text

# =============================================================================
# Optional: Performance Configuration
# =============================================================================
CBOB_SYNC_PARALLEL=2
CBOB_RESTORE_PARALLEL=1

# =============================================================================
# Docker-specific (if using docker-compose)
# =============================================================================
# Uncomment and modify if you need to override default paths
# CBOB_BASE_PATH=/data
# CBOB_LOG_PATH=/var/log/cbob